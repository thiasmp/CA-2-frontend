{"ast":null,"code":"import _defineProperty from\"C:/Users/thias/Desktop/CA-2/CA2-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/thias/Desktop/CA-2/CA2-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/thias/Desktop/CA-2/CA2-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(_ref){var facade=_ref.facade,setLoggedIn=_ref.setLoggedIn,setErrorMessage=_ref.setErrorMessage,logout=_ref.logout,loggedIn=_ref.loggedIn;var initialState={username:\"\",password:\"\"};var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),login=_useState2[0],setLogin=_useState2[1];var changeName=function changeName(event){//console.log([event.target.name])\nsetLogin(_objectSpread(_objectSpread({},login),{},_defineProperty({},event.target.name,event.target.value)));};var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(login);facade.login(login.username,login.password,setLoggedIn,setErrorMessage);console.log(setErrorMessage);setLogin(initialState);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Home\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"User Name:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:login.username,onChange:changeName}),/*#__PURE__*/_jsx(\"br\",{}),\"Password:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"password\",value:login.password,onChange:changeName})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),facade.hasUserAccess('user',loggedIn)&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\"Logout\"})}),facade.hasUserAccess('admin',loggedIn)&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\"Logout\"})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Role: \",facade.getUserRoles()]})]})]});}","map":{"version":3,"sources":["C:/Users/thias/Desktop/CA-2/CA2-frontend/src/components/Home.jsx"],"names":["React","useState","useEffect","Home","facade","setLoggedIn","setErrorMessage","logout","loggedIn","initialState","username","password","login","setLogin","changeName","event","target","name","value","handleSubmit","preventDefault","console","log","hasUserAccess","getUserRoles"],"mappings":"kXAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,C,wFAEA,cAAe,SAASC,CAAAA,IAAT,MAA0E,IAA1DC,CAAAA,MAA0D,MAA1DA,MAA0D,CAAlDC,WAAkD,MAAlDA,WAAkD,CAArCC,eAAqC,MAArCA,eAAqC,CAApBC,MAAoB,MAApBA,MAAoB,CAAZC,QAAY,MAAZA,QAAY,CACrF,GAAMC,CAAAA,YAAY,CAAG,CAACC,QAAQ,CAAG,EAAZ,CAAgBC,QAAQ,CAAG,EAA3B,CAArB,CACA,cAA0BV,QAAQ,CAACQ,YAAD,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eAEJ,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC1B;AACAF,QAAQ,gCACDD,KADC,wBACOG,KAAK,CAACC,MAAN,CAAaC,IADpB,CAC4BF,KAAK,CAACC,MAAN,CAAaE,KADzC,GAAR,CAGD,CALH,CAOE,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,KAAD,CAAW,CAC9BA,KAAK,CAACK,cAAN,GACAC,OAAO,CAACC,GAAR,CAAYV,KAAZ,EAEAR,MAAM,CAACQ,KAAP,CAAaA,KAAK,CAACF,QAAnB,CAA6BE,KAAK,CAACD,QAAnC,CAA6CN,WAA7C,CAA0DC,eAA1D,EACAe,OAAO,CAACC,GAAR,CAAYhB,eAAZ,EAEAO,QAAQ,CAACJ,YAAD,CAAR,CACD,CARD,CAUE,mBACI,oCACE,4BADF,cAEE,cAAM,QAAQ,CAAEU,YAAhB,wBACE,mDAEE,aAFF,cAGE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,KAAK,CAAEP,KAAK,CAACF,QAAhD,CAA0D,QAAQ,CAAEI,UAApE,EAHF,cAIE,aAJF,0BAME,aANF,cAOE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,KAAK,CAAEF,KAAK,CAACD,QAAhD,CAA0D,QAAQ,CAAEG,UAApE,EAPF,GADF,cAUE,aAVF,cAWE,eAAQ,IAAI,CAAC,QAAb,mBAXF,CAYGV,MAAM,CAACmB,aAAP,CAAqB,MAArB,CAA6Bf,QAA7B,gBACD,gCAAG,eAAQ,OAAO,CAAED,MAAjB,oBAAH,EAbF,CAcCH,MAAM,CAACmB,aAAP,CAAqB,OAArB,CAA8Bf,QAA9B,gBACC,gCAAG,eAAQ,OAAO,CAAED,MAAjB,oBAAH,EAfF,cAgBE,8BAAUH,MAAM,CAACoB,YAAP,EAAV,GAhBF,GAFF,GADJ,CAuBH","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\n\r\nexport default function Home({ facade, setLoggedIn, setErrorMessage, logout, loggedIn }) {\r\n    const initialState = {username : \"\", password : \"\"}\r\n    const [login, setLogin] = useState(initialState);\r\n\r\nconst changeName = (event) => {\r\n    //console.log([event.target.name])\r\n    setLogin({\r\n        ...login, [event.target.name] : event.target.value\r\n    })\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    console.log(login);\r\n   \r\n    facade.login(login.username, login.password, setLoggedIn, setErrorMessage)\r\n    console.log(setErrorMessage);\r\n    \r\n    setLogin(initialState)\r\n  }\r\n\r\n    return (\r\n        <div>\r\n          <h2>Home</h2>\r\n          <form onSubmit={handleSubmit}>\r\n            <label>\r\n              User Name:\r\n              <br/>\r\n              <input type=\"text\" name=\"username\" value={login.username} onChange={changeName}/>\r\n              <br/>\r\n              Password:\r\n              <br/>\r\n              <input type=\"text\" name=\"password\" value={login.password} onChange={changeName}/>\r\n            </label>\r\n            <br/>\r\n            <button type=\"submit\">Login</button>\r\n            {facade.hasUserAccess('user', loggedIn)  &&\r\n            <p><button onClick={logout}>Logout</button></p>}\r\n          {facade.hasUserAccess('admin', loggedIn)  &&\r\n            <p><button onClick={logout}>Logout</button></p>}\r\n            <p>Role: {facade.getUserRoles()}</p>\r\n          </form>\r\n        </div>\r\n      );\r\n}"]},"metadata":{},"sourceType":"module"}